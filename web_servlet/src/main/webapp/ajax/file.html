<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>HTML로 FORM으로 파일을 전송하는 방법</title>
</head>
<body>
<!--
multipart/form-data : 첨부파일 속성을 사용시 무조건 적용해야 하는 enctype 입니다.	
-->		
<form id="frm" method="post" action="../web_ajax/fileok.do" enctype="multipart/form-data">
상품명 : <input type="text" name="pdnm"><br>
첨부파일 : <input type="file" name="mfile"> * 2MB 이하의 이미지만 처리 됩니다.<br>
<input type="button" value="전송" onclick="gopage()">
</form>
</body>
<script>
	function gopage(){
		if(frm.mfile.value == ""){
			alert("첨부파일 필수로 적용하셔야 합니다.");
		}
		else{
			if(frm.mfile.files[0].size > 2097152){
				alert("해당 파일은 최대 2MB까지만 첨부하실 수 있습니다.");
			}
			else{
				var type = frm.mfile.files[0].type;
				var filenm = ["png","gif","jpeg","jpg","svg","bmp","webp"];
				var result = "";
				for(var f=0; f<filenm.length; f++){
					if(type.indexOf(filenm[f]) >= 0){
						result = "ok";
						break;
					}
				}
				if(result == "ok"){
					frm.submit();
				}
				else{
					alert("첨부파일은 이미지 파일만 사용가능 합니다.");
				}
			}
		}
	}
	
	
	
</script>
</html>